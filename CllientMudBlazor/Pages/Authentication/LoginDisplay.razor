<AuthorizeView>
    <Authorized>
        <MudMenu Class="mt-1 ml-2"
                 Size="Size.Medium"
                 AriaLabel="User menu">
            <ActivatorContent>
                <MudAvatar Color="Color.Primary" Size="Size.Medium">@LetterOfName</MudAvatar>
            </ActivatorContent>
            <ChildContent>
                <UserCard Class="mt-n2" Email="@Email"
                          Name="@FirstName"
                          LetterOfName="@LetterOfName"></UserCard>

                <MudDivider Class="mb-2"></MudDivider>
                <MudIconButton OnClick="Logout" Icon="@Icons.Material.Filled.Logout">Logout</MudIconButton>

            </ChildContent>
        </MudMenu>
      
    </Authorized>
    <NotAuthorized>
        <MudMenu Icon="@Icons.Material.Filled.MoreVert" IconColor="Color.Primary"
                 AriaLabel="Open user menu">
            <MudMenuItem Label="Login" Href="/login" />
            <MudMenuItem Label="Register" OnClick="GoToRegister" />

        </MudMenu>
    </NotAuthorized>
</AuthorizeView>

@code {
    public void Logout()
    {
        NavManager.NavigateTo("/logout");
    }
    public void GoToRegister()
    {
        try
        {
            NavManager.NavigateTo("/registerform");
        }
        catch(Exception ex)
        {
            string mes= ex.Message;
        }

    }
}
